---
layout: post
title: Creating an Environment Using Conda
subtitle: Online and Offline
tags: [Conda]
comments: true
mathjax: true
author: KongKong
categories: [sc]
---

<div class="box-success">
<p><strong>Conda</strong> is an efficient package management tool that allows users 
to install all required packages with a single command, simply by specifying what they need.
Download <a href="https://www.anaconda.com/download/success">Anaconda</a>,
though I personally recommend <a href="https://www.anaconda.com/download/success">Miniconda</a>.</p>

<p>In this blog, there are <strong>3</strong> main parts:</p>
<ul>
  <li>Quick guide to creating an environment with Conda (online)</li>
  <li>Switching to a different Conda source (mirror)</li>
  <li>Creating an environment with Conda offline</li>
</ul>
</div>

We will create an environment named `SCenv` containing the following packages:
- gcc 14.3.0
- mpich 4.3.1
- cmake 4.1.0
- make 4.4.1

## Creating `SCenv` with Conda online

First, create the environment with the required packages. 
Note that we will generally need to add the conda-forge channel:

```shell
conda create -n SCenv \
  gcc=14.3.0 \
  mpich=4.3.1 \
  cmake=4.1.0 \
  make=4.4.1 \
  -c conda-forge
```

After the packages are downloaded, activate the `SCenv` environment:

```shell
conda activate SCenv
```

Finally, `SCenv` environment is now ready to use.

## Switching the Conda mirror source

In some cases, the official Conda source may have slow download speeds. 
Switching to a mirror source can significantly improve download performance. 
This section explains how to configure Conda to use the **Tsinghua mirror source**.

First, edit the `.condarc` configuration file:

```shell
vim ~/.condarc
```

Then, add the following content:

```yaml
channels:
  - defaults
show_channel_urls: true
default_channels:
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/r
  - https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/msys2
custom_channels:
  conda-forge: https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud
```

After saving the file, Conda will use the **Tsinghua mirror source** for future operations.